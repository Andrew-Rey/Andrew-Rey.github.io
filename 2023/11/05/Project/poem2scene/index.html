<!DOCTYPE html>
<html lang="en">
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Andrew-Rey">
    
    <title>
        
            Unity Development | Poem2Scene |
        
        Andrew-Rey
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/head_round.png">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/fontawesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/regular.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/solid.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/brands.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"andrew-rey.github.io","root":"/","language":"en","path":"search.json"}
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":false,"init_open":false},"style":{"primary_color":"#a0c49d","logo":"/images/head_round.png","favicon":"/images/head_round.png","avatar":"/images/head_round.png","font_size":"16px","font_family":"Songti","hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"header_transparent":true,"background_img":"https://yuanxiapi.cn/api/bing/","description":null,"font_color":"#faf0e4","hitokoto":false},"scroll":{"progress_bar":false,"percent":false}},"local_search":{"enable":true,"preload":false},"code_copy":{},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"obsidian"},"side_tools":{},"pjax":{"enable":false},"lazyload":{"enable":true},"comment":{"enable":false,"use":"valine","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.8"},"waline":{"server_url":null,"reaction":false,"version":2}},"post":{"author_label":{"enable":true,"auto":false,"custom_label_list":["来自林邑的许先森❤"]},"word_count":{"enable":true,"wordcount":true,"min2read":true},"img_align":"center","copyright_info":true},"version":"3.6.1"}
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"}
    KEEP.language_code_block = {"copy":"Copy code","copied":"Copied","fold":"Fold code block","folded":"Folded"}
    KEEP.language_copy_copyright = {"copy":"Copy copyright info","copied":"Copied","title":"Original article title","author":"Original article author","link":"Original article link"}
  </script>
<meta name="generator" content="Hexo 6.3.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>


<body>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/images/head_round.png">
                </a>
            
            <a class="logo-title" href="/">
               Andrew-Rey
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                ABOUT
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">TAGS</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">CATEGORIES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">ABOUT</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">Unity Development | Poem2Scene</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/head_round.png">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">Andrew-Rey</span>
                            
                                <span class="author-label">来自林邑的许先森❤</span>
                            
                        </div>
                        <div class="meta-info">
                            
<div class="article-meta-info">
    <span class="article-date article-meta-item">
        
            <i class="fa-regular fa-calendar-plus"></i>&nbsp;
        
        <span class="pc">2023-11-05 14:24:17</span>
        <span class="mobile">2023-11-05 14:24</span>
    </span>
    
        <span class="article-update-date article-meta-item">
        <i class="fas fa-file-pen"></i>&nbsp;
        <span class="pc">2023-11-10 23:59:32</span>
    </span>
    
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/Project/">Project</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Unity3D/">Unity3D</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Project/">Project</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>625 Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>3 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                

                <p>vr scenes generation based on poem texts.</p>
<ul>
<li>unity3d based</li>
<li>htc vive</li>
</ul>
<h2 id="framework">framework</h2>
<figure>
<img lazyload alt="image" data-src="1699165642361.png">
<figcaption aria-hidden="true">1699165642361</figcaption>
</figure>
<p>A simple framework of this project is shown above (maybe the
<em>light theme</em> is reccomended to check the diagram). A simple idea
is that the generated contents can be divided into <code>layer</code>s,
and we want to controll the generation processes of layers. Such as we
firstly generate <code>terrain</code> layer and define its materials and
textures later in biome layer. The benefits is that the layers are
generated in a more dynamic way: materials and textures are not
specified in advance, but generated according to not only the texts but
also the terrain layer. And so as the later layers.</p>
<h2 id="terrain">terrain</h2>
<ul>
<li>default: noise based</li>
<li>text: ai based</li>
</ul>
<h3 id="noise-based-terrain">noise based terrain</h3>
<p>It is known that <a class="link" target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Perlin_noise">Perlin noise<i class="fas fa-external-link-alt"></i></a> has a
excellent perfromation in terrain/ocean wave/textures generation. And
the mainly noise we used in this project is Perlin noise, but we used
<strong>2 layers</strong>, which can simulate more abundant
terrains.</p>
<p>The terrain layer generation parameters are shown as follow.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// global configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">const</span>           <span class="built_in">int</span>    HeightMapRandomSeed        = <span class="number">1024</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">const</span>           <span class="built_in">int</span>    HeightMapLength            = <span class="number">256</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> <span class="built_in">int</span>[]  HeightMapSampleFrequencies = &#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">16</span>&#125;;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">const</span>           <span class="built_in">float</span>  HeightMapScaler            = <span class="number">5f</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">const</span>           <span class="built_in">int</span>    TerrainLayerLength         = <span class="number">512</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">const</span>           <span class="built_in">float</span>  TerrainLayerMaxHeight      = <span class="number">1000f</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">const</span>           <span class="built_in">string</span> TerrainNodeName            = <span class="string">&quot;TerrainNode&quot;</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">const</span>           <span class="built_in">string</span> TerrainLayerName           = <span class="string">&quot;TerrainLayer&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>For one noise layer case, we use simplex noise based on Perlin noise
(namely overlay multiple <em>octaves</em> on the base noise). The result
is show in the image.</p>
<figure>
<img lazyload alt="image" data-src="image.png">
<figcaption aria-hidden="true">one-layer noise</figcaption>
</figure>
<p>We can see the result is realisitic in a way. However, the problem is
that, there are less reasonable places the our world. This generated
scene is more "noise", but our world has more terrain types such as
"plane". So we designed a two-layer noises to generate terrain and it
has a more reasonable result. Here is the image.</p>
<figure>
<img lazyload alt="image" data-src="1699168066108.png">
<figcaption aria-hidden="true">two-layer noise</figcaption>
</figure>
<p>For two-layer case, we controll the amplitudes of the "mountains"
using a strategy (by default, we use 1-frequency and 1-octave Perlin
noise). And the variance of terrain is more smooth and more "not
random".</p>
<h2 id="scheduleprogress">schedule/progress</h2>
<p><strong>23-11-07</strong> target:</p>
<ul>
<li>add start ui (simple version: v_1)
<ul>
<li><a class="link" target="_blank" rel="noopener" href="https://learn.unity.com/tutorial/creating-a-vr-menu-2019-2?uv=2019.4#">learn
the vr ui<i class="fas fa-external-link-alt"></i></a></li>
<li>use button-click to change scene (from start-scene to
main-scene)</li>
</ul></li>
<li>realize terrain real-time loading
<ul>
<li>define chunks</li>
<li>generate base map (defaultly include 16 by 16 chunks)</li>
<li>load chunk around the player (load 9 chunks and player is in the
center chunk)
<ul>
<li>check per-frame</li>
</ul></li>
<li>finish <code>MapLoader</code></li>
<li>finish <code>BaseMap</code></li>
<li>modified the map generation steps
<ul>
<li>when firstly load the game, generate whole resources used in the map
(height gradient meshes, amplitude gradient mesh, biome, decorations,
...), store them to resource file (why do we use this method -- dynamic
loading and promising the continuity between chunks)</li>
<li>generate chunks around the player, based on the gradient data</li>
<li>if enter a brand new area, load the gradient data and generate
chunks</li>
</ul></li>
</ul></li>
</ul>
<p><strong>23-11-08</strong> target:</p>
<ul>
<li>continue to complete the <code>MapLoader</code> and
<code>BaseMap</code>
<ul>
<li>generate <code>BaseMap</code> and divide it into chunks</li>
<li>store data into files</li>
</ul></li>
<li>clear up thinking
<ul>
<li>base-map has the total attributes of map, including terrain, biome,
building and weather properties</li>
<li>for the generation of base-map: just generate the related data and
store them into files</li>
<li>base-map-loader is used to load data and generate details of maps
around the player</li>
<li>every chunk is a smaller map, which means base-map is a
data-struct</li>
<li>chunk is also a game object, the parents node of terrain and the
decorations on it</li>
</ul></li>
</ul>
<p><strong>23-11-10</strong> target:</p>
<ul>
<li>rewrite <code>TerrainLayer</code> and <code>TerrainNode</code> and
<code>HeightMap</code>
<ul>
<li>support <em>chunk-like</em> terrains</li>
<li>provide more interfaces <em>to get the middle result or
data</em></li>
</ul></li>
<li>the whole project is ready to be in a mass...
<ul>
<li>arrange project structure</li>
</ul></li>
</ul>

            </div>

            
                <div class="post-copyright-info">
                    
<div class="article-copyright-info-container">
    <ul class="copyright-info-content">
        <li class="post-title">
            <span class="type">Post title</span>: <span class="content">Unity Development | Poem2Scene</span>
        </li>
        <li class="post-author">
            <span class="type">Post author</span>: <span class="content">Andrew-Rey</span>
        </li>
        <li class="post-time">
            <span class="type">Create time</span>: <span class="content">2023-11-05 14:24:17</span>
        </li>
        <li class="post-link">
            <span class="type">Post link</span>: <span class="content">2023/11/05/Project/poem2scene/</span>
        </li>
        <li class="post-license">
            <span class="type">Copyright notice</span>: <span class="content">All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.</span>
        </li>
    </ul>
    <div class="copy-copyright-info flex-center tooltip" data-content="Copy copyright info" data-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/Unity3D/">#Unity3D</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/Project/">#Project</a>&nbsp;
                        </li>
                    
                </ul>
            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                               rel="prev"
                               href="/2023/11/11/PL/Racket-How-to-Launch-a-Rocket/"
                            >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                                <span class="title flex-center">
                                <span class="post-nav-title-item">Racket | How to launch a rocket</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                               rel="next"
                               href="/2023/11/04/SE/ruoyi-vue/"
                            >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Full Stack | RuoYi-Vue</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                                <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                            </a>
                        </div>
                    
                </div>
            

            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#framework"><span class="nav-number">1.</span> <span class="nav-text">framework</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#terrain"><span class="nav-number">2.</span> <span class="nav-text">terrain</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#noise-based-terrain"><span class="nav-number">2.1.</span> <span class="nav-text">noise based terrain</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#scheduleprogress"><span class="nav-number">3.</span> <span class="nav-text">schedule&#x2F;progress</span></a></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>
 
        </div>

        <div class="page-main-content-bottom">
            
<footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
                <span>2022</span> -
            
            2023
            
                &nbsp;<i class="fas fa-heart icon-animate"></i>
                &nbsp;<a href="/">Andrew-Rey</a>
            
        </div>
        
            <script async 
                    src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                
                
                    Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.6.1</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/dark-light-toggle.js"></script>




    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/code-block.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/lazyload.js"></script>


<div class="post-scripts">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/post-helper.js"></script>
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/libs/anime.min.js"></script>
        
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/toc.js"></script>
        
    
</div><!-- hexo-inject:begin --><!-- hexo-inject:end -->



</body>
</html>
